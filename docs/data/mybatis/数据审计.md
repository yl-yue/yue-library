# æ•°æ®å®¡è®¡
æ•°æ®å®¡è®¡ç”¨äºè®°å½•å¯¹æ•°æ®æ‰§è¡Œå¢åˆ æ”¹åŠ¨ä½œçš„æ“ä½œäººï¼Œç»“åˆæ•°æ®ç‰ˆæœ¬æ§åˆ¶å¯è¾¾åˆ°æ•°æ®360å®‰å…¨å®¡è®¡æ•ˆæœï¼Œç»“åˆæ“ä½œæ—¥å¿—å¯å¯¹ä¸€äº›é“¾è·¯æ“ä½œè¿›è¡Œè¿½è¸ªæº¯æºã€‚

## å¦‚ä½•ä½¿ç”¨
1. æ·»åŠ é…ç½®

```yml
yue:
  data:
    mybatis:
      enable-data-audit: true                # å¯ç”¨æ•°æ®å®¡è®¡
```

2. æä¾›å®¡è®¡ç”¨æˆ·ä¿¡æ¯ï¼Œå®ç°`AuditDataProvider`æ¥å£å¹¶é…ç½®ä¸ºBean

```java
@Bean
public AuditDataProvider auditDataProvider() {
	return new AuditDataProvider() {
		// åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚ä½•è·å¾—å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼Œä¸€èˆ¬ä»Tokenä¸­è·å–
		@Override
		public String getUser() {
			return "ylyue";
		}

		@Override
		public Long getUserId() {
			return 1711185600000L;
		}
		
		@Override
		public String getTenantSys() {
			return null;
		}

		@Override
		public String getTenantCo() {
			return null;
		}
	};
}
```

3. æµ‹è¯•
- è°ƒç”¨`baseMapper.insert()`æ–¹æ³•ï¼Œæµ‹è¯•æ•°æ®åˆ›å»ºäººå®¡è®¡
- è°ƒç”¨`baseMapper.updateXXX()`æ–¹æ³•ï¼Œæµ‹è¯•æ•°æ®æ›´æ–°äººå®¡è®¡

## æ³¨æ„äº‹é¡¹
ä½ çš„è¡¨ä¸å®ä½“ç±»éœ€è¦éµå®ˆ`BaseEntity`è§„èŒƒï¼Œæ‰å¯ä»¥è·å¾—æ•°æ®å®¡è®¡æ”¯æŒã€‚
- [ğŸ‘‰BaseEntity](data/mybatis/BaseEntity.md)
- ä½ å¯ä»¥é€‰æ‹©ç»§æ‰¿`BaseEntity`ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¤åˆ¶ç²˜è´´éƒ¨åˆ†å­—æ®µï¼ˆå‰”é™¤ä½ ä¸æƒ³è¦çš„å­—æ®µï¼‰ï¼Œä»¥éµå¾ªå®¡è®¡è§„èŒƒï¼Œè·å¾—å®¡è®¡ç‰¹æ€§æ”¯æŒ
