# åˆ†å¸ƒå¼é”
> åˆ†å¸ƒå¼é”ä»‹ç»ï¼š[ğŸ‘‰æ¼«ç”»ï¼šä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é”ï¼Ÿ](https://mp.weixin.qq.com/s/8fdBKAyHZrfHmSajXT_dnA)

## ä½¿ç”¨ç¤ºä¾‹
```java
/**
 * å¯¹å•ä¸ªç”¨æˆ·çš„è®¿é—®è¿›è¡ŒåŠ é”ï¼Œå¯å®ç°æ¥å£å¹‚ç­‰æ€§ç­‰åœºæ™¯ç¤ºä¾‹
 * 
 * @param userId ç”¨æˆ·IDï¼Œå”¯ä¸€æ ‡è¯†
 * @return ç»“æœ
 */
public Result<?> userLock(String userId) {
	String lockKey = Redis.separatorJoin("lock:userId", userId);
	long lockTimeout = 3600L;
	long lockTimeoutStamp = DateUtils.getTimestamp() + lockTimeout;
	boolean lock = redis.lock(lockKey, lockTimeoutStamp);
	if (!lock) {
		return R.errorPrompt(StrUtil.format("ç”¨æˆ·{}æœªæ‹¿åˆ°é”", userId));
	}
	// ä¸šåŠ¡é€»è¾‘ ...
	redis.unlock(lockKey, lockTimeoutStamp);
	return R.success();
}
```