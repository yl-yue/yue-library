# <a name="æœåŠ¡ç«¯è§„çº¦">æœåŠ¡ç«¯è§„çº¦</a>
## POJO
- IPOï¼ˆInterface Param Objectï¼‰ï¼šæ¥å£å…¥å‚å¯¹è±¡ï¼Œå¯å®ç°å¯¹å‚æ•°çš„å¤šå±‚æ¬¡åµŒå¥—å°è£…ä¸é€»è¾‘æ ¡éªŒã€‚
- VOï¼ˆView Objectï¼‰ï¼šä¸šåŠ¡è§†å›¾å¯¹è±¡åˆç§°æ˜¾ç¤ºå±‚å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ Web å‘æ¨¡æ¿æ¸²æŸ“å¼•æ“å±‚ä¼ è¾“çš„å¯¹è±¡ã€‚
- DOï¼ˆData Objectï¼‰ï¼šæ•°æ®å¯¹è±¡ä¸€èˆ¬æƒ…å†µä¸‹ä¸æ•°æ®åº“è¡¨ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡ DAO å±‚å‘ä¸Šä¼ è¾“æ•°æ®æºå¯¹è±¡ã€‚
- DTOï¼ˆData Transfer Objectï¼‰ï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ŒService æˆ– Manager å‘å¤–ä¼ è¾“çš„å¯¹è±¡ã€‚ä½¿ç”¨åœºæ™¯ï¼šç¬¬ä¸‰æ–¹æ¥å£å›ºå®šè¿”å›å¯¹è±¡ï¼Œå¤šè¡¨é“¾æ¥å¯¹è±¡ã€ç‰¹æ®Šä¸šåŠ¡å›ºå®šä¼ è¾“å¯¹è±¡ã€‚

## ä¸šåŠ¡å‘½åæ³•ï¼ˆåŒ…åè§„èŒƒï¼‰
- ä¸šåŠ¡å‘½åæ³•ï¼Œä»¥ä¸€ä¸ªä¸šåŠ¡ä¸ºä¸€ä¸ªåŒ…ï¼ˆå¦‚ï¼šçº¢åŒ…æ´»åŠ¨ï¼Œredbagï¼‰
- ä¸€ä¸ªåŒ…ä¸­å¯ä»¥åŒ…å«å¤šä¸ªç›¸åŒä¸šåŠ¡ç±»

ä»¥ä¸‹å®šä¹‰å›ºå®šçš„åŒ…å‘½åè§„èŒƒï¼š
```
ai.yue.library.test               æ ¹è·¯å¾„ï¼šSpringBootä¸­ä¸€èˆ¬æ”¾Applicationå¯åŠ¨ç±»
ai.yue.library.test.aspect        åˆ‡é¢ï¼šä¸šåŠ¡ç»Ÿä¸€æ‹¦æˆªå¤„ç†
ai.yue.library.test.constant      å¸¸é‡ï¼šä¸šåŠ¡å¸¸é‡å®šä¹‰
ai.yue.library.test.controller    MVCæ§åˆ¶å±‚ï¼šæ¥å£æ˜ å°„ä¸å‚æ•°å¤„ç†
ai.yue.library.test.service       MVCæœåŠ¡å±‚ï¼šä¸šåŠ¡é€»è¾‘å¤„ç†
ai.yue.library.test.dao           MVCæ•°æ®æŒä¹…å±‚ï¼šæ•°æ®åº“æ“ä½œ
ai.yue.library.test.dataobject    DOæ•°æ®å¯¹è±¡ï¼šæ•°æ®åº“ä¸€å¯¹ä¸€å®ä½“æ˜ å°„å°è£…
ai.yue.library.test.dto           DTOæ•°æ®ä¼ è¾“å¯¹è±¡ï¼šå¤šè¡¨è”æŸ¥å®ä½“å°è£…ä¸ä¸šåŠ¡å¯¹è±¡å°è£…ç­‰
ai.yue.library.test.ipo           IPOæ¥å£å…¥å‚å¯¹è±¡ï¼šæ¥å£è¯·æ±‚å‚æ•°å°è£…ä¸æ ¡éªŒ
ai.yue.library.test.vo            VOä¸šåŠ¡è§†å›¾å¯¹è±¡ï¼šæ¥å£è¿”å›å‚æ•°å°è£…
```

## æ³¨é‡Šè§„çº¦
> å¯¹äºé¡¹ç›®ä¸­ï¼Œé‡è¦çš„æ¨¡å—ç»„æˆéƒ¨åˆ†ï¼Œä¸¥è°¨çš„ä¸šåŠ¡é€»è¾‘æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ï¼ˆå¦‚ï¼šç”¨æˆ·è´¢å¯Œç›¸å…³ç­‰æ•æ„Ÿæ¥å£ï¼‰
> è¿™é‡Œä¸åªéœ€è¦æ³¨é‡ä¸šåŠ¡é€»è¾‘ï¼Œæ›´åŠ éœ€è¦ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚

## è¯­æ³•è§„çº¦
> å¤šå±‚é€»è¾‘åµŒå¥—çš„è¯­æ³•æ˜¯å¾ˆä¸ç¾è§‚ä¸”éš¾ä»¥ç»´æŠ¤çš„é”™è¯¯é€‰æ‹©ã€‚<br>
> éµå¾ªåŸåˆ™ï¼š
>> 1. å°½é‡ä¿æŒåªæœ‰ä¸€å±‚ä¸»é€»è¾‘ï¼Œç¨‹åºæ°¸è¿œæ˜¯æ‰§è¡Œåˆ°æœ€åä¸€è¡Œä»£ç ï¼Œæ‰æ˜¯æ­£ç¡®æ‰§è¡Œçš„åŸåˆ™ã€‚
>> 2. ä¸šåŠ¡é€»è¾‘åˆ†æ®µè¡¨è¿°ï¼Œç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ï¼Œç¬¬ä¸‰æ­¥...ç›´åˆ°æœ€åä¸€æ­¥å®Œæˆã€‚ä¸åŒé€»è¾‘ã€ä¸åŒè¯­ä¹‰ã€ä¸åŒä¸šåŠ¡çš„ä»£ç ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œåˆ†éš”å¼€æ¥ä»¥æå‡å¯è¯»æ€§ã€‚

## è§„çº¦ä»£ç ç¤ºä¾‹
<font color=red>ä»£ç æ‘˜è¦è‡ª `yue-library-web` æ¨¡å—ä¸­çš„ `CaptchaUtils` å·¥å…·ç±»æ–¹æ³•</font>ï¼Œ[ğŸ‘‰ç‚¹å‡»å‰å¾€æŸ¥çœ‹](https://gitee.com/yl-yue/yue-library/blob/j11.2.3.0/yue-library-web/src/main/java/ai/yue/library/web/util/CaptchaUtils.java)
```java
    /**
     * åˆ›å»ºéªŒè¯ç 
     * @param captchaIPO éªŒè¯ç IPO
     * @return éªŒè¯ç VO
     */
    public static CaptchaVO createCaptchaImage(CaptchaIPO captchaIPO) {
    	// 1. è§£æå‚æ•°
    	int width = captchaIPO.getWidth();
    	int height = captchaIPO.getHeight();
    	int charQuantity = captchaIPO.getCharQuantity();
    	int fontSize = captchaIPO.getFontSize();
    	int interferingLineQuantity =  captchaIPO.getInterferingLineQuantity();
    	
    	// 2. åˆ›å»ºç©ºç™½å›¾ç‰‡
        StringBuffer captcha = new StringBuffer();
        BufferedImage captchaImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);
        
        // 3. è·å–å›¾ç‰‡ç”»ç¬”
        Graphics graphic = captchaImage.getGraphics();
        
        // 4.è®¾ç½®ç”»ç¬”é¢œè‰²
        graphic.setColor(Color.LIGHT_GRAY);
        
        // 5.ç»˜åˆ¶çŸ©å½¢èƒŒæ™¯
        graphic.fillRect(0, 0, width, height);
        
        // 6.ç”»éšæœºå­—ç¬¦
        Random ran = new Random();
        for (int i = 0; i < charQuantity; i++) {
            // å–éšæœºå­—ç¬¦ç´¢å¼•
            int n = ran.nextInt(CHARS.length);
            // è®¾ç½®éšæœºé¢œè‰²
            graphic.setColor(getRandomColor());
            // è®¾ç½®å­—ä½“å¤§å°
            graphic.setFont(new Font(null, Font.BOLD + Font.ITALIC, fontSize));
            // ç”»å­—ç¬¦
            graphic.drawString(CHARS[n] + "", i * width / charQuantity, height * 2 / 3);
            // è®°å½•å­—ç¬¦
            captcha.append(CHARS[n]);
        }
        
        // 7.ç”»å¹²æ‰°çº¿
        for (int i = 0; i < interferingLineQuantity; i++) {
            // è®¾ç½®éšæœºé¢œè‰²
            graphic.setColor(getRandomColor());
            // éšæœºç”»çº¿
            graphic.drawLine(ran.nextInt(width), ran.nextInt(height), ran.nextInt(width), ran.nextInt(height));
        }
        graphic.dispose();
        
        // 8.è¿”å›éªŒè¯ç å’Œå›¾ç‰‡
        return CaptchaVO.builder().captcha(captcha.toString()).captchaImage(captchaImage).build();
    }
```

<font color=red>ä»£ç æ‘˜è¦è‡ª `yue-library-data-jdbc` æ¨¡å—ä¸­çš„ `MysqlDialect` ç±»çš„MySQLæ–¹è¨€å®ç°</font>ï¼Œ[ğŸ‘‰ç‚¹å‡»å‰å¾€æŸ¥çœ‹](https://gitee.com/yl-yue/yue-library/blob/j11.2.3.0/yue-library-data-jdbc/src/main/java/ai/yue/library/data/jdbc/client/dialect/impl/MysqlDialect.java)
```java
    /**
     * <b>æ ¹æ®ç›¸åŒçš„åˆ—è¡¨æ¡ä»¶ï¼Œè·å¾—ä¸Šä¸€æ¡ä¸ä¸‹ä¸€æ¡æ•°æ®</b>
     *
     * @param querySql ç”¨äºæŸ¥è¯¢æ•°æ®çš„sqlè¯­å¥
     * @param pageIPO  åˆ†é¡µæŸ¥è¯¢å‚æ•° {@linkplain PageIPO}
     * @param equalsId åšæ¯”è¾ƒçš„æ¡ä»¶IDï¼ˆå°†ä¸æŸ¥è¯¢ç»“æœçš„ä¸»é”®IDåšæ¯”è¾ƒï¼‰
     * @return {@linkplain PageBeforeAndAfterVO}
     */
	@Override
	public PageBeforeAndAfterVO pageBeforeAndAfter(String querySql, PageIPO pageIPO, Long equalsId) {
		// 1. å‚æ•°æ ¡éªŒ
		if (StringUtils.isEmpty(querySql)) {
			throw new DbException("querySqlä¸èƒ½ä¸ºç©º");
		}
		
		// 2. æŸ¥è¯¢æ•°æ®
		JSONArray array = new JSONArray();
		array.addAll(namedParameterJdbcTemplate.queryForList(querySql, toParamJson(pageIPO)));
		int size = array.size();
		
		// 3. è·å¾—å‰åå€¼
		Long beforeId = null;
		Long afterId = null;
		String key = DbConstant.PRIMARY_KEY;
		for (int i = 0; i < size; i++) {
			JSONObject json = array.getJSONObject(i);
			// æ¯”è¾ƒåˆ—è¡¨ä¸­ç›¸ç­‰çš„å€¼ï¼Œç„¶åè·å–å‰ä¸€æ¡ä¸åä¸€æ¡æ•°æ®
			if (equalsId.equals(json.getLong(key))) {
				if (i != 0) {// ä¸æ˜¯åˆ—è¡¨ä¸­ç¬¬ä¸€æ¡æ•°æ®
					beforeId = array.getJSONObject(i - 1).getLong(key);
				}
				if (i != size - 1) {// ä¸æ˜¯åˆ—è¡¨ä¸­æœ€åä¸€æ¡æ•°æ®
					afterId = array.getJSONObject(i + 1).getLong(key);
				}
				break;
			}
		}
		
		// 4. è¿”å›ç»“æœ
		return PageBeforeAndAfterVO.builder()
		.beforeId(beforeId)
		.afterId(afterId)
		.build();
	}
```