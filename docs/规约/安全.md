# ä¸€æ–‡è¯»æ‡‚99%çš„å¼€å‘è€…å¸¸çŠ¯çš„ä½çº§å®‰å…¨é”™è¯¯
!> ä¸è¦ä»¥ä¸ºæœåŠ¡éƒ¨ç½²åœ¨å†…ç½‘å°±å¯ä»¥æ— æƒ…è£¸å¥”ï¼ï¼ï¼

!> ä¸è¦ä»¥ä¸ºæœåŠ¡éƒ¨ç½²åœ¨å†…ç½‘å°±å¯ä»¥æ— æƒ…è£¸å¥”ï¼ï¼ï¼

!> ä¸è¦ä»¥ä¸ºæœåŠ¡éƒ¨ç½²åœ¨å†…ç½‘å°±å¯ä»¥æ— æƒ…è£¸å¥”ï¼ï¼ï¼

å®‰å…¨å¾€å¾€æ˜¯å®¹æ˜“åœ¨ç³»ç»Ÿå»ºè®¾åˆæœŸå¿½è§†çš„é‡è¦ç¯èŠ‚ï¼Œå¦‚ä½•ä½æˆæœ¬å®ç°ç›¸å¯¹å®‰å…¨çš„è½¯ä»¶è¿è¡Œç¯å¢ƒï¼Œæ˜¯æœ¬æ–‡æ¢è®¨é‡ç‚¹ã€‚

## ä¸­é—´ä»¶å®‰å…¨
ä¸­é—´ä»¶æœ¬æ–‡æ³›æŒ‡å¦‚ï¼šNacosã€MySQLã€Redisã€RocketMQã€Elasticserchã€Kibanaã€Rancherã€zipkinã€plumelogç­‰

ä¸­é—´ä»¶ä½¿ç”¨**é»˜è®¤å¯†ç **ã€**å¼±å¯†ç **ã€**æ— å¯†ç **éƒ½æ˜¯æœ€ä½çº§çš„å®‰å…¨é—®é¢˜ï¼Œå…»æˆè‰¯å¥½ä¹ æƒ¯æ”¹ä¸ªå¯†ç ä¸è´¹äº‹ï¼ˆåŒ…æ‹¬ä½ çš„å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒï¼‰ã€‚

## SpringBootå®‰å…¨
### åº”ç”¨ç›‘æ§Actuatorå®‰å…¨éšæ‚£ï¼ˆä¸¥é‡ï¼‰
å½“ä½ ä½¿ç”¨ç™¾åº¦æœç´¢Actuatorç›¸å…³åšå®¢æ—¶ï¼Œä½ ä¼šçœ‹åˆ°æ¸…ä¸€è‰²çš„å¦‚ä¸‹é…ç½®ï¼š
```yml
management:
 endpoints:
   web:
     exposure:
       include: "*"
 endpoint:
   health:
     show-details: always
```
è¿™äº›åšå®¢ä¸­å¹¶æœªè¯´æ˜è¿™æ ·çš„é…ç½®ä¼šå¸¦æ¥é‡å¤§å®‰å…¨éšæ‚£ï¼Œè€Œå¤§å®¶éƒ½æ˜¯ä»å°ç™½åˆ°å…¥é—¨çš„è¿‡ç¨‹ï¼Œå‡ ä¹ä¸ä¼šæ·±ç©¶ä¸Šè¿°é…ç½®çš„é—®é¢˜ï¼Œæ‰€ä»¥å¦‚æœä½ çœŸçš„åœ¨ä½ çš„åº”ç”¨ä¸­æ·»åŠ äº†ä¸Šé¢çš„é…ç½®ï¼Œå¹¶ä¸”æœªåŠ å…¥`spring-boot-starter-security`åšå®‰å…¨è®¤è¯ï¼Œ
é‚£ä¹ˆä½ çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯åŒ…æ‹¬ä½ çš„ç”¨æˆ·åä¸å¯†ç ç­‰å·²åœ¨å†…ç½‘ä¸­è£¸å¥”ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœä½ çš„æœåŠ¡æš´éœ²ç»™äº†å…¬ç½‘ï¼Œé‚£ä¹ˆæ­å–œä½ `è¿™äº›ä¿¡æ¯å·²åœ¨å…¨ç½‘æ•å¼€`ã€‚

é‡å¤§å®‰å…¨éšæ‚£è·¯å¾„ï¼ˆä¸åŒç‰ˆæœ¬çš„SpringBootç«¯ç‚¹è·¯å¾„ä¸ä¸€æ ·ï¼Œä¸‹é¢æ˜¯SpringBoot2.xçš„è·¯å¾„ï¼‰ï¼š
- `actuator/env`       è·å–æœåŠ¡è¿è¡Œæ—¶çš„å…¨éƒ¨ç¯å¢ƒé…ç½®ï¼ˆåŒ…æ‹¬ä½ çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼‰
- `actuator/heapdump`  ä¸‹è½½æœåŠ¡è¿è¡Œæ—¶çš„å †æ ˆä¿¡æ¯ï¼Œå¯ä»¥æ ¹æ®`actuator/env`è·¯å¾„æš´éœ²çš„keyï¼ŒæŸ¥æ‰¾åˆ°æœåŠ¡å†…å­˜ä¸­çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚ï¼š**å¯†ç **

!> [ğŸ‘‰æ‰©å±•é˜…è¯»ï¼šSpringBootç»„ä»¶å®‰å…¨ä¹‹Actuator](https://www.istt.org.cn/NewsDetail/2422429.html)<br>
[ğŸ‘‰æ‰©å±•é˜…è¯»ï¼šSpringBootæ¸—é€ä¹‹Actuatorè·å–æ•°æ®åº“å¯†ç ](https://github.com/xx-zhang/SpringBootVul#%E4%B8%80%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2)<br>
[ğŸ‘‰æ‰©å±•é˜…è¯»ï¼šSpringbootä¹‹actuatoré…ç½®ä¸å½“çš„æ¼æ´åˆ©ç”¨](https://www.freebuf.com/news/193509.html)

`yue-library-auth-*`æ¨¡å—é’ˆå¯¹Actuatorç»„ä»¶çš„å®‰å…¨é—®é¢˜è¿›è¡Œäº†ä¸¥è°¨çš„å¤„ç†ï¼Œå…¶ä¸­å°±åŒ…æ‹¬å¯¹`actuator/`ç«¯ç‚¹é…ç½®äº†ç‹¬ç«‹çš„è®¿é—®å¯†ç ï¼ˆé»˜è®¤ä¸ºéšæœºå¯†ç ï¼‰ï¼Œ
æœªè¿›è¡ŒActuatorå®‰å…¨å¤„ç†çš„é¡¹ç›®ï¼Œå¯ä¾èµ–æˆ–å‚è€ƒ`yue-library-auth-*`ä»»æ„æ¨¡å—å®ç°Actuatorå®‰å…¨ã€‚

### jaråŒ…ä¿¡æ¯æ³„æ¼å®‰å…¨éšæ‚£
åœ¨è¿›è¡Œspringbootæ‰“åŒ…æ—¶ï¼Œåº”å°†ä¿å¯†æ–‡ä»¶æ’é™¤ï¼Œé¿å…å°†è¿™äº›æ–‡ä»¶æ‰“å…¥åˆ°jarä¸­ã€‚
- ã€æ¨èã€‘ä¿å¯†é…ç½®æ–‡ä»¶å‘½åï¼Œä½¿ç”¨`confidential`ä½œä¸ºå‘½ååç¼€ï¼Œæœ‰åŠ©äºåœ¨æ‰“åŒ…æ—¶è¿›è¡Œç»Ÿä¸€æ’é™¤ã€‚
  - æ­£ä¾‹ï¼š`application-confidential.yml`ã€`application-prod-confidential.yml`
```xml
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
			<executions>
				<execution>
					<goals>
						<goal>repackage</goal>
					</goals>
				</execution>
			</executions>
		</plugin>
		<plugin>
			<groupId>org.apache.maven.plugins</groupId>
			<artifactId>maven-jar-plugin</artifactId>
			<configuration>
				<excludes>
					<exclude>*confidential*.properties</exclude>-->
					<exclude>*confidential*.yml</exclude>
				</excludes>
			</configuration>
		</plugin>
	</plugins>
</build>
```

## è®¤è¯æˆæƒ

## å¤‡ä»½

## å®¡è®¡
## ä¼ è¾“åŠ å¯†ä¸å­˜å‚¨åŠ å¯†
## å¹‚ç­‰æ€§ä¸äº‹åŠ¡
## ç½‘ç»œä»£ç†ã€é˜²ç«å¢™ã€ç™½åå•
## å¾®æœåŠ¡å®‰å…¨